<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="map_name" default="bioroboticaIV"/>
  <node name="map_server" pkg="map_server" type="map_server" output="screen" args="$(find space_quantization)/maps/$(arg map_name).yaml"/>
  <include file="$(find hsrb_nav_pkg)/launch/nav_include.launch"/>

  <node name="sparse_server" pkg="sparse_map_server" type="sparse_map_server_node">
    <param name="map_file" value="$(find space_quantization)/graphs/$(arg map_name).txt" type="str"/>
    <param name="k_neighboors" value="6" type="int"/>
    <param name="max_dist" value="1.2" type="double"/>
    <param name="min_dist" value="0.250" type="double"/>
    <param name="safety_height" value="1.0" type="double"/>
    <param name="safety_radius" value="0.3" type="double"/>
    <param name="connection_radius" value="0.3" type="double"/>
    <remap from="graph_marker" to="/hsrb/graph_marker"/>
    <remap from="make_plan" to="/sparse_map/make_plan" />
  </node>

  <node name="path_simulator" pkg="sparse_map_server" type="publishGoalDouble.py"  output="screen" >
    <remap from="move_make_plan" to="/move_base/make_plan" />
    <remap from="sparse_make_plan" to="/sparse_map/make_plan" />
  </node>

</launch>
